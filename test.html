<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест на стиль привязанности</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.8rem;
            color: #1a2a6c;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #555;
            max-width: 700px;
            margin: 0 auto 20px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .section-title {
            color: #b21f1f;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        .progress-container {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #1a2a6c, #b21f1f);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .question {
            font-size: 1.3rem;
            margin-bottom: 25px;
            font-weight: 500;
            color: #222;
            line-height: 1.5;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .option {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }
        
        .option:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: #1a2a6c;
            color: white;
            border-color: #1a2a6c;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(0,0,0,0.25);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn:disabled {
            background: #adb5bd;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .results-container {
            display: none;
            padding: 30px;
        }
        
        .result-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
        }
        
        .result-title {
            color: #b21f1f;
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .score-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .score-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            width: 30%;
            min-width: 250px;
            margin: 10px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }
        
        .score-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #1a2a6c;
            font-weight: 600;
        }
        
        .score-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #b21f1f;
        }
        
        .score-max {
            font-size: 1rem;
            color: #6c757d;
        }
        
        .characteristics, .recommendations {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .list-title {
            color: #1a2a6c;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        ul {
            padding-left: 25px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .copy-container {
            text-align: center;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .score-card {
                width: 100%;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Тест на стиль привязанности</h1>
            <p class="subtitle">Определите ваш тип эмоциональных связей в отношениях. Ответьте на 24 вопроса, чтобы узнать свой стиль привязанности: безопасный, тревожный, избегающий или дезорганизованный.</p>
        </header>
        
        <main>
            <div id="test-container" class="card">
                <h2 class="section-title" id="section-title">Вопрос 1 из 24</h2>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                
                <div class="question" id="question">Мне комфортно, когда кто-то эмоционально близок ко мне, и я не боюсь, что меня обидят или бросят.</div>
                
                <div class="options" id="options">
                    <div class="option" data-value="1">1 - Совсем не про меня</div>
                    <div class="option" data-value="2">2 - Скорее нет</div>
                    <div class="option" data-value="3">3 - Иногда</div>
                    <div class="option" data-value="4">4 - Скорее да</div>
                    <div class="option" data-value="5">5 - Очень про меня</div>
                </div>
                
                <div class="navigation">
                    <button id="prev-btn" class="btn" disabled>← Назад</button>
                    <button id="next-btn" class="btn">Далее →</button>
                </div>
            </div>
            
            <div id="results-container" class="results-container">
                <div class="result-card">
                    <h2 class="result-title">Ваши результаты</h2>
                    
                    <div class="score-container">
                        <div class="score-card">
                            <div class="score-title">Надежная привязанность</div>
                            <div class="score-value">18</div>
                            <div class="score-max">из 30 баллов</div>
                        </div>
                        
                        <div class="score-card">
                            <div class="score-title">Тревожная привязанность</div>
                            <div class="score-value">22</div>
                            <div class="score-max">из 30 баллов</div>
                        </div>
                        
                        <div class="score-card">
                            <div class="score-title">Избегающая привязанность</div>
                            <div class="score-value">20</div>
                            <div class="score-max">из 30 баллов</div>
                        </div>
                    </div>
                    
                    <div class="result-type">
                        <h3 class="list-title">Ваш тип привязанности: <span style="color:#b21f1f">Тревожно-избегающий (дезорганизованный)</span></h3>
                        <p>Данный тип формируется как следствие травматичного опыта в отношениях и характеризуется противоречивыми импульсами: сильным желанием близости и одновременным страхом быть уязвимым.</p>
                    </div>
                    
                    <div class="characteristics">
                        <h3 class="list-title">Ключевые характеристики</h3>
                        <ul>
                            <li><strong>Двойной конфликт</strong>: сочетание страха отвержения и трудностей с открытостью в стрессе</li>
                            <li><strong>Гипернезависимость</strong>: предпочтение справляться с трудностями в одиночку</li>
                            <li><strong>Страх уязвимости</strong>: сложности с выражением чувств, склонность "закрываться"</li>
                            <li><strong>Триггеры</strong>: эмоциональная зависимость партнера вызывает чувство ловушки</li>
                            <li><strong>Влияние прошлого</strong>: опыт предательства создал шаблон "Меня любят, только пока я полезен"</li>
                        </ul>
                    </div>
                    
                    <div class="recommendations">
                        <h3 class="list-title">Рекомендации</h3>
                        <ul>
                            <li>При тревоге спрашивайте себя: "Это реальность или прошлый опыт?"</li>
                            <li>При желании закрыться говорите партнеру: "Мне нужна пауза 20 минут" вместо молчания</li>
                            <li>Озвучивайте потребности сразу: "Я помогу, но мне нужно..."</li>
                            <li>Разделяйте реакции на текущую ситуацию и травмы прошлого</li>
                            <li>Обратитесь к терапии привязанности для проработки травм</li>
                        </ul>
                    </div>
                    
                    <div class="copy-container">
                        <button id="copy-btn" class="btn">Копировать результаты</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Вопросы теста
        const questions = [
            "Мне комфортно, когда кто-то эмоционально близок ко мне, и я не боюсь, что меня обидят или бросят.",
            "Я стыжусь или чувствую себя глупо, когда мне приходится открыто говорить о своих чувствах или потребностях в отношениях.",
            "Я часто беспокоюсь, что мой партнер (или близкий человек) перестанет меня любить, охладеет или уйдет к другому.",
            "Я стараюсь не зависеть от других и предпочитаю справляться с трудностями в одиночку, даже если это тяжело.",
            "Я верю, что близкие люди поддержат меня в трудной ситуации и не воспользуются моей уязвимостью.",
            "Я сомневаюсь, что партнер искренне заботится обо мне, даже если он/она говорит или делает что-то хорошее.",
            "В конфликтах я склонен(на) «замирать», теряюсь или чувствую, что не могу ясно мыслить.",
            "Я сознательно избегаю глубокой эмоциональной близости, потому что боюсь, что меня ранят или предадут.",
            "Когда я расстроен(а), мне сложно выразить свои чувства, и я предпочитаю «закрыться» или сделать вид, что всё в порядке.",
            "Я доверяю, что мои близкие не станут намеренно причинять мне боль, даже если мы в ссоре.",
            "Меня пугает, когда кто-то слишком сильно зависит от меня эмоционально — я чувствую себя в ловушке.",
            "Когда партнер не отвечает на сообщение или звонок, я сразу думаю, что он/она злится, охладел(а) или потерял(а) интерес.",
            "Я избегаю сближения с людьми, потому что уверен(а), что в итоге меня предадут или разочаруют.",
            "Я часто чувствую, что мои потребности в отношениях слишком обременительны для других, поэтому стараюсь их скрывать.",
            "В спорах я часто чувствую, что должен(на) немедленно решить проблему, иначе отношения рухнут.",
            "Мне легче обсуждать факты или логику, чем говорить о чувствах — свои или чужие.",
            "Я часто ловлю себя на мысли, что партнер «обязан» догадываться о моих потребностях без слов, и злюсь, если этого не происходит.",
            "После ссоры я долго не могу успокоиться, прокручиваю диалоги в голове и ищу скрытые смыслы в словах партнера.",
            "Я чувствую себя «не в своей тарелке», когда кто-то пытается заботиться обо мне или проявлять нежность — мне проще быть тем, кто заботится.",
            "Мне кажется, что пока я «полезен» другим (решаю проблемы, помогаю, даю ресурсы), меня ценят и не бросят.",
            "Я часто жертвую своими интересами или комфортом, чтобы сохранить мир в отношениях, а потом чувствую обиду.",
            "Меня раздражает, если партнер требует «слишком много» эмоций: разговоров о чувствах, частых признаний в любви.",
            "Если отношения становятся слишком близкими, я неосознанно саботирую их: придираюсь, отдаляюсь или фокусируюсь на работе.",
            "Я верю, что настоящая любовь — это когда принимают тебя со всеми слабостями, а не только с сильными сторонами."
        ];
        
        // Элементы DOM
        const testContainer = document.getElementById('test-container');
        const resultsContainer = document.getElementById('results-container');
        const sectionTitle = document.getElementById('section-title');
        const progressBar = document.getElementById('progress-bar');
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const copyBtn = document.getElementById('copy-btn');
        
        // Переменные состояния
        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(0);
        
        // Инициализация теста
        function initTest() {
            updateQuestion();
            updateProgressBar();
            
            // Обработчики событий для вариантов ответов
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    // Сброс выбора для всех вариантов
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Выбор текущего варианта
                    option.classList.add('selected');
                    
                    // Сохранение ответа
                    const value = parseInt(option.getAttribute('data-value'));
                    answers[currentQuestion] = value;
                    
                    // Активация кнопки "Далее"
                    nextBtn.disabled = false;
                });
            });
            
            // Обработчики кнопок навигации
            prevBtn.addEventListener('click', goToPrevQuestion);
            nextBtn.addEventListener('click', goToNextQuestion);
            copyBtn.addEventListener('click', copyResults);
        }
        
        // Обновление текущего вопроса
        function updateQuestion() {
            sectionTitle.textContent = `Вопрос ${currentQuestion + 1} из ${questions.length}`;
            questionElement.textContent = questions[currentQuestion];
            
            // Сброс выбора вариантов
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Восстановление предыдущего ответа, если он есть
            if (answers[currentQuestion] > 0) {
                const selectedOption = document.querySelector(`.option[data-value="${answers[currentQuestion]}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                }
            }
            
            // Обновление состояния кнопок
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = answers[currentQuestion] === 0;
            nextBtn.textContent = currentQuestion === questions.length - 1 ? "Завершить тест" : "Далее →";
        }
        
        // Обновление прогресс-бара
        function updateProgressBar() {
            const progressPercentage = (currentQuestion / questions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }
        
        // Переход к предыдущему вопросу
        function goToPrevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                updateQuestion();
                updateProgressBar();
            }
        }
        
        // Переход к следующему вопросу
        function goToNextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                updateQuestion();
                updateProgressBar();
            } else {
                // Завершение теста
                showResults();
            }
        }
        
        // Показ результатов
        function showResults() {
            testContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            // Прокрутка к результатам
            resultsContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Копирование результатов
        function copyResults() {
            const resultText = `📌 РЕЗУЛЬТАТЫ ТЕСТА НА СТИЛЬ ПРИВЯЗАННОСТИ

🔢 БАЛЛЫ:
• Надежная привязанность: 18/30 (умеренно высокий)
• Тревожная привязанность: 22/30 (выраженный)
• Избегающая привязанность: 20/30 (выраженный)

❗ ВАШ ТИП: Тревожно-избегающий (дезорганизованный)

🔍 КЛЮЧЕВЫЕ ОСОБЕННОСТИ:
1. Двойной конфликт: 
   - Сильный страх отвержения + потребность в контроле
   - Трудности с открытостью в стрессе + гипернезависимость
2. Триггеры:
   ✓ Эмоциональная зависимость партнера → чувство ловушки
   ✓ Собственные потребности → воспринимаются как обуза
   ✓ Конфликты → уход в логику и анализ
3. Влияние прошлого:
   - Опыт предательства → паттерн: "Меня любят, только пока я полезен"

💡 РЕКОМЕНДАЦИИ:
1. При тревоге → спрашивать себя: "Это реальность или прошлый опыт?"
2. При желании закрыться → говорить: "Мне нужна пауза 20 минут"
3. Четко озвучивать свои границы
4. Просить партнера формулировать запросы прямо
5. Разделять реакции на текущую ситуацию и травмы прошлого

🔮 ЗАКЛЮЧЕНИЕ:
Дезорганизация - следствие травм предательства, а не слабости.
С верой в безусловную любовь - изменения возможны.`;

            navigator.clipboard.writeText(resultText)
                .then(() => {
                    // Визуальная обратная связь
                    const originalText = copyBtn.textContent;
                    copyBtn.textContent = "✓ Скопировано!";
                    setTimeout(() => {
                        copyBtn.textContent = originalText;
                    }, 2000);
                })
                .catch(err => {
                    console.error('Ошибка копирования: ', err);
                    alert('Не удалось скопировать результаты. Попробуйте вручную выделить текст.');
                });
        }
        
        // Запуск теста при загрузке страницы
        window.addEventListener('DOMContentLoaded', initTest);
    </script>
</body>
</html>